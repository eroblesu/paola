---
/**
 * * This is a testimonials section that displays three testimonials
 *
 */

import TestimonialCard from "@components/TestimonialCard/TestimonialCard.astro";
import { getCollection } from "astro:content";

const testimonials = await getCollection("testimonials");

const sortedTestimonials = testimonials.sort((a, b) => {
	if (a.data.order < b.data.order) {
		return -1;
	}
	if (a.data.order > b.data.order) {
		return 1;
	}
	return 0;
});

const firstThreeTestimonials = sortedTestimonials.slice(0, 4);
---

<section id="testimonial" class="site-container scroll-mt-10 py-8 md:py-12">
	<div class="mx-auto max-w-6xl text-center">
		<h2 class="h2 text-pretty uppercase">Lo que dicen sobre m√≠</h2>
	</div>
	<div
		class="xs:gap-5 mx-auto grid max-w-md pt-8 md:max-w-6xl md:grid-cols-2 md:gap-10 md:pt-12 lg:max-w-none lg:grid-cols-4"
	>
		<TestimonialCard testimonial={firstThreeTestimonials[0]} imagePosition="top" />
		<TestimonialCard testimonial={firstThreeTestimonials[1]} imagePosition="bottom" />
		<TestimonialCard testimonial={firstThreeTestimonials[2]} imagePosition="top" />
		<TestimonialCard testimonial={firstThreeTestimonials[3]} imagePosition="top" />
	</div>
</section>
